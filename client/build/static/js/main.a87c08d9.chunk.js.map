{"version":3,"sources":["components/Navbar.js","misc/customhooks.js","components/screens/Profile.js","components/screens/Home.js","components/screens/Signup.js","components/screens/Signin.js","components/screens/UserProfile.js","components/screens/CreatePost.js","reducers/userReducer.js","components/screens/FollowingPosts.js","App.js","serviceWorker.js","index.js"],"names":["Navbar","location","useLocation","useContext","UserContext","state","dispatch","useState","history","useHistory","DelUser","localStorage","clear","type","push","renderList","className","pathname","to","onClick","name","isMobile","query","window","matchMedia","matches","setMatches","useEffect","queryList","listener","evt","macthes","addListener","removeListener","useMediaQuery","data-target","id","document","addEventListener","elems","querySelectorAll","M","Sidenav","init","Profile","myPosts","setMyPosts","image","setImage","data","FormData","append","fetch","method","body","then","res","json","headers","getItem","JSON","stringify","dp","url","result","console","log","setItem","payload","catch","err","mypost","alt","src","Modal","openmodal","href","onChange","e","file","target","files","class","email","length","followers","following","map","item","key","_id","title","photo","color","height","width","timeout","Home","setData","posts","postedBy","postid","Authorization","newData","filter","likes","includes","postId","comments","record","commentid","text","onSubmit","preventDefault","value","placeholder","Signup","setName","password","setPassword","setEmail","disable","setDisable","undefined","setUrl","UploadFields","test","error","toast","html","classes","message","disabled","event","secure_url","UploadDp","Signin","token","user","UserProfile","userPosts","setUserPosts","userid","useParams","showFollow","setShowFollow","followId","prevState","unfollowId","newFollowers","CreatePost","setTitle","setBody","reducer","action","FollowingPosts","createContext","Routing","parse","exact","path","App","useReducer","Provider","Boolean","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.a87c08d9.chunk.js","sourcesContent":["import React, {useContext, useState} from 'react'\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nimport M from \"materialize-css\";\r\nimport \"../App.css\"\r\nimport {useMediaQuery} from \"../misc/customhooks\";\r\nimport {UserContext} from \"../App\"\r\n\r\nconst Navbar = () => {\r\n\r\n  \r\n  const location = useLocation();\r\n  // console.log(\"I am location\", location);\r\n\r\n  const {state, dispatch} = useContext(UserContext);\r\n  const [activeLink, setActiveLink] = useState(null)\r\n  const history =useHistory();\r\n  const DelUser = () =>{\r\n    localStorage.clear();\r\n    dispatch({type: \"CLEAR\"})\r\n    history.push(\"/signin\");\r\n   }\r\n  \r\n\r\n  const renderList =()=>{\r\n    if(state){\r\n      return [\r\n        <li><Link className={location.pathname===\"/\" && 'active' } to=\"/\">Explore</Link></li>,\r\n        <li><Link className={location.pathname===\"/followingposts\" && 'active' } to=\"/followingposts\">Home</Link></li>,    \r\n        <li><Link className={location.pathname===\"/profile\" && 'active' } to=\"/profile\">Profile</Link></li>,\r\n        <li><Link className={location.pathname===\"/create\" && 'active' } to=\"/create\">Create Post</Link></li>,     \r\n        <button onClick={DelUser} className=\"btn waves-effect waves-light #4a148c purple darken-4 nav__btn\" type=\"submit\" name=\"action\">\r\n                Sign Out\r\n        </button>\r\n      ]\r\n    }else{\r\n      return [\r\n        <li><Link className={location.pathname===\"/signin\" && 'active' } to=\"/signin\">Login</Link></li>,\r\n        <li><Link className={location.pathname===\"/signup\" && 'active' } to=\"/signup\">Signup</Link></li>\r\n      ]\r\n    }\r\n  }\r\n\r\n  const isMobile = useMediaQuery('(max-width: 992px)');\r\n    return (\r\n        <nav>\r\n          {\r\n         isMobile ? (\r\n         <>\r\n            <Link to=\"#\" data-target=\"slide-out\" className=\"sidenav-trigger\"><i className=\"material-icons\">menu</i></Link>    \r\n            <div  className=\"nav-wrapper navbar\">\r\n            <Link to={state? \"/\": \"/signin\"} className=\"brand-logo center navbar__logo\">Instagram</Link>  \r\n            <ul id=\"slide-out\"  className=\"sidenav show-on-large\">        \r\n              {renderList()}\r\n            </ul>\r\n          </div>\r\n        </>\r\n        ): (\r\n\r\n        <div className=\"nav-wrapper navbar\">\r\n      \r\n        <Link to=\"/\" className=\"brand-logo left navbar__logo\">Instagram</Link>\r\n        <ul id=\"nav-mobile\" className=\"right\">  \r\n        {renderList()}\r\n        </ul>\r\n      </div>\r\n        )\r\n      }\r\n    \r\n  </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar\r\n\r\n// const open = ()=>{\r\n\r\n// }\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n  let elems = document.querySelectorAll('.sidenav');\r\n  let instances = M.Sidenav.init(elems);\r\n});\r\n\r\n// Initialize collapsible (uncomment the lines below if you use the dropdown variation)\r\n// var collapsibleElem = document.querySelector('.collapsible');\r\n// var collapsibleInstance = M.Collapsible.init(collapsibleElem, options);\r\n\r\n// Or with jQuery\r\n\r\n// $(document).ready(function(){\r\n//   $('.sidenav').sidenav();\r\n// });\r\n","import  {useEffect, useState} from 'react'\r\n\r\nexport const useMediaQuery = query => {\r\n    const [matches, setMatches] = useState(\r\n      () => window.matchMedia(query).matches\r\n    );\r\n  \r\n    useEffect(() => {\r\n      const queryList = window.matchMedia(query);\r\n      setMatches(queryList.matches);\r\n  \r\n      const listener = evt => setMatches(evt.macthes);\r\n  \r\n      queryList.addListener(listener);\r\n      return () => queryList.removeListener(listener);\r\n    }, [query]);\r\n    return matches;\r\n  };\r\n\r\n\r\n","import React, {useEffect, useState, useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport M from \"materialize-css\"\r\nimport Loader from 'react-loader-spinner'\r\n\r\n\r\nconst Profile = () => {\r\n\r\n    const [myPosts, setMyPosts] = useState([])\r\n    const [image, setImage] = useState(\"\");\r\n    // const [url, setUrl] = useState(undefined);\r\n    const {state, dispatch} = useContext(UserContext)\r\n\r\n    useEffect(()=>{\r\n        if(image){\r\n         const data = new FormData()\r\n         data.append(\"file\",image)\r\n         data.append(\"upload_preset\",\"instagram\")\r\n         data.append(\"cloud_name\",\"dtxrrhfqj\")\r\n         fetch(\"https://api.cloudinary.com/v1_1/dtxrrhfqj/image/upload\",{\r\n             method:\"post\",\r\n             body:data\r\n         })\r\n         .then(res=>res.json())\r\n         .then(data=>{  \r\n        \r\n            fetch('/updatepic',{\r\n                method:\"put\",\r\n                headers:{\r\n                    \"Content-Type\":\"application/json\",\r\n                    \"Authorization\":\"Bearer \"+localStorage.getItem(\"jwt\")\r\n                },\r\n                body:JSON.stringify({\r\n                    dp:data.url\r\n                })\r\n            }).then(res=>res.json())\r\n            .then(result=>{\r\n                console.log(result)\r\n                localStorage.setItem(\"user\",JSON.stringify({...state,dp:result.dp}))\r\n                dispatch({type:\"UPDATEDP\",payload:result.dp})\r\n                //window.location.reload()\r\n            })\r\n        \r\n         })\r\n         .catch(err=>{\r\n             console.log(err)\r\n         })\r\n        }\r\n     },[image])\r\n\r\n    const updatePhoto = (file) =>{\r\n        setImage(file)\r\n    }\r\n\r\n    function openmodal() {\r\n        let elems = document.querySelectorAll('.modal');\r\n        let instances = M.Modal.init(elems);\r\n        console.log(\"open\")\r\n      }\r\n  \r\n    \r\n\r\n    useEffect(()=> {\r\n         fetch('/mypost', {\r\n             headers: {\r\n                 \"Authorization\": \"Bearer \"+ localStorage.getItem(\"jwt\")\r\n             }\r\n         }).then(res => res.json())\r\n           .then(result => {\r\n            //   console.log(result.mypost); \r\n            setMyPosts(result.mypost)      \r\n           })\r\n    }, [])\r\n    return (\r\n        <>\r\n        {\r\n          !myPosts?\r\n          (\r\n            <Loader\r\n            className=\"loader\"\r\n            type=\"Grid\"\r\n            color=\"#e23e57\"\r\n            height={100}\r\n            width={100}\r\n            timeout={4000} //3 secs\r\n         />\r\n          ):\r\n        \r\n        (<div className=\"profile\">\r\n            <div className=\"profile__container\">\r\n                {console.log(\"Myposts\",myPosts)}\r\n\r\n                <img className=\"profile__dp\" alt=\"profile dp\" src={state? state.dp:\"\"}/>\r\n                <i onClick={openmodal()} className=\"tiny material-icons editbtn home_icon modal-trigger\" href=\"#modal1\" data-target=\"modal1\"\r\n                //   onClick={()=> updatePhoto()}\r\n                        >create</i>\r\n                 {/* <!-- Modal Structure --> */}\r\n                    <div id=\"modal1\" className=\"modal\">\r\n                        <div className=\"modal-content\">\r\n                        <div className=\"file-field input-field\">\r\n                        <div className=\"btn #d1c4e9 deep-purple lighten-4\">\r\n                            <span>Upload Dp</span>\r\n                            <input type=\"file\" onChange={(e)=>updatePhoto(e.target.files[0])} />\r\n                        </div>\r\n                        <div className=\"file-path-wrapper\">\r\n                            <input className=\"file-path validate\"  type=\"text\"/>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"modal-footer\">\r\n                    <a href=\"/profile\" className=\"modal-close waves-effect  btn-flat modelfooter-close\">Close</a>\r\n                    </div>\r\n                        </div>\r\n                    </div>  \r\n\r\n\r\n                \r\n                <div>\r\n                    <h4>{state?.name}</h4>\r\n                    <h6>{state?.email}</h6>\r\n                    <div className=\"profile__infoSection\">\r\n                        <h6><span className=\"profile__details\">{myPosts?.length}</span>posts</h6>\r\n                        <h6><span className=\"profile__details\">{state?state.followers.length:\"0\"}</span>followers</h6>\r\n                        <h6><span className=\"profile__details\">{state?state.following.length: \"0\"}</span>following</h6>\r\n                    </div>\r\n                </div>  \r\n           </div>\r\n          \r\n            <div className=\"profile__gallery\">\r\n            {\r\n                myPosts.map(item => {\r\n                    return(\r\n                        <img key={item._id} className=\"profile__galleryimage\" alt={item.title} src={item.photo} />\r\n                    )\r\n                })\r\n            }  \r\n               \r\n            </div>\r\n        </div>)\r\n        }  \r\n      </>  \r\n    )\r\n}\r\n\r\nexport default Profile\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    let elems = document.querySelectorAll('.modal');\r\n    let instances = M.Modal.init(elems);\r\n  });\r\n\r\n  ","import React, {useState, useEffect, useContext} from 'react'\r\nimport {UserContext} from \"../../App\"\r\nimport Profile from './Profile';\r\nimport {Link} from \"react-router-dom\"\r\nimport Loader from 'react-loader-spinner'\r\n\r\n\r\nconst Home = () => {\r\n\r\n    const [data, setData] = useState(null);\r\n    const {state, dispatch} = useContext(UserContext);\r\n\r\n\r\n    useEffect(()=> {\r\n      fetch('/allpost', {\r\n          headers: {\r\n              \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\r\n          }\r\n      }).then(res=> res.json())\r\n        .then(result => {   \r\n            // console.log(result);\r\n            setData(result.posts); \r\n        } )\r\n    }, [])\r\n\r\n    const likePost =(id)=>{\r\n       fetch('/like', {\r\n           method: \"put\",\r\n           headers: {\r\n               \"Content-Type\": \"application/json\",\r\n               \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\r\n           },\r\n           body: JSON.stringify({\r\n               postId: id\r\n           })\r\n        }).then(res => res.json())\r\n             .then(result => {\r\n                //  console.log(result);\r\n                 const newData = data.map(item => {\r\n                     if(item._id === result._id){\r\n                         return result\r\n                     }\r\n                     return item\r\n                 })\r\n                 setData(newData);\r\n             }).catch(err => {\r\n                 console.log(err)\r\n             })\r\n             \r\n    }\r\n\r\n    const unlikePost =(id)=>{\r\n        fetch('/unlike', {\r\n            method: \"put\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                postId: id\r\n            })\r\n         }).then(res => res.json())\r\n              .then(result => {\r\n                // console.log(result);\r\n                const newData = data.map(item => {\r\n                    if(item._id === result._id){\r\n                        return result\r\n                    }\r\n                    return item\r\n                })\r\n                setData(newData);\r\n              }).catch(err => {\r\n                console.log(err)\r\n            })\r\n     }\r\n\r\n     const postComment = (text, postId) =>{\r\n         fetch('/comment', {\r\n             method: \"put\",\r\n             headers: {\r\n                 \"Content-Type\": \"application/json\",\r\n                 \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\r\n             },\r\n             body: JSON.stringify({\r\n                postId,\r\n                text \r\n             })\r\n         }).then(res => res.json())\r\n           .then(result => {\r\n            //    console.log(result);\r\n               const newData = data.map(item => {\r\n                if(item._id === result._id){\r\n                    return result\r\n                }\r\n                return item \r\n            })\r\n             setData(newData)\r\n           }).catch(err => {\r\n               console.log(err);\r\n           })\r\n     }\r\n\r\n     const deletePost = (postid) => {\r\n         fetch(`/deletepost/${postid}`, {\r\n             method: \"delete\",\r\n             headers: {\r\n                 Authorization: \"Bearer \"+localStorage.getItem(\"jwt\")\r\n             }\r\n         }).then(res => res.json())\r\n           .then(result => {\r\n            //    console.log(result);\r\n               const newData = data.filter(item=>{\r\n                   return item._id !== result._id\r\n               })\r\n               setData(newData);\r\n           })\r\n     }\r\n\r\n     const deleteComment = (commentid, postid)=>{\r\n         fetch(`/deletecomment/${commentid}`, {\r\n             method: \"delete\",\r\n             headers: {\r\n                 Authorization: \"Bearer \"+localStorage.getItem(\"jwt\")\r\n             }\r\n         }).then(res => res.json())\r\n           .then(result => {\r\n            //    console.log(\"I am the result\",result);\r\n\r\n               const newData = data.map(item =>{\r\n                   if(item._id === result._id){\r\n                       return result\r\n                   }\r\n                   return item\r\n               })\r\n               setData(newData);\r\n\r\n                 }).catch(err => {\r\n                     console.log(err)\r\n                 })               \r\n           }\r\n    return (\r\n       <> \r\n       {\r\n          !data?(\r\n            <Loader\r\n            className=\"loader\"\r\n            type=\"Grid\"\r\n            color=\"#e23e57\"\r\n            height={100}\r\n            width={100}\r\n            timeout={4000} //3 secs\r\n         />\r\n          ) :(\r\n        <div className=\"home\">\r\n            {data.map(item => {\r\n                return(\r\n                 <div className=\"card home__card\" key={item._id}>\r\n                    \r\n                    <h5 className=\"home__PostedBy\">\r\n                    <div className=\"topdp\">     \r\n                     <img className=\"profile__dpofPost\" alt=\"profile dp\" src={item.postedBy.dp}/> \r\n                   \r\n                        <Link className=\"profile__Name\" to={item.postedBy._id !== state._id?`/profile/${item.postedBy._id}`: `/profile`}>{item.postedBy.name}</Link>\r\n                        {item.postedBy._id === state._id && (\r\n                       <i class=\"tiny material-icons post_delbtn home_icon\"\r\n                       onClick={()=> deletePost(item._id)}\r\n                       >delete_forever</i>\r\n                    )}\r\n\r\n                     </div>      \r\n                   \r\n                    </h5>\r\n                 \r\n                   \r\n                    <div className=\"card-image home__cardImage\">\r\n                      <img className=\"home__Image\" alt=\"homeCard\" src={item.photo} />\r\n                    </div>\r\n                    <div className=\"card-content\">\r\n                        <i className=\"tiny material-icons home_btn home_icon\">favorite</i>\r\n\r\n                           {item.likes.includes(state._id)\r\n                            ? \r\n                            (<i className=\"tiny material-icons home_btn home_icon\"\r\n                            onClick={()=> {unlikePost(item._id)}}>thumb_down</i>\r\n                            ):\r\n                            ( <i className=\"tiny material-icons home_btn home_icon\"\r\n                            onClick={()=> {likePost(item._id)}}>thumb_up</i>)}\r\n\r\n                       \r\n                        <h6 className=\"home_postLikes\">{item.likes.length} likes</h6>\r\n                        <h5 className=\"home__cardTitle\">{item.title}</h5>\r\n                        <p className=\"home__carddesc\">{item.body}</p>\r\n                        <h5 className=\"home__commentsTitle\">Comments</h5>\r\n                        {\r\n                            item.comments.map(record => {\r\n                                return(\r\n                                <h6 className=\"home__commentsdesc\" key={record._id}><span className=\"home__commentsname\">{record.postedBy.name}|</span>\r\n                                <i class=\"tiny material-icons home_delbtn home_icon\"\r\n                                    onClick={()=> deleteComment(record._id,item._id)}\r\n                                    >delete_forever</i>\r\n                                  {record.text}\r\n                                </h6>\r\n                                )\r\n                            })\r\n                        }\r\n                        <form onSubmit={(e)=>{\r\n                            e.preventDefault()\r\n                            postComment(e.target[0].value, item._id)\r\n                            // console.log(e.target)\r\n                        }}>\r\n                          <input type=\"text\" placeholder=\"add a comment\"/>\r\n                        </form>\r\n                    </div>\r\n                </div>  \r\n                )\r\n            })}\r\n           \r\n        </div>\r\n          )\r\n       } \r\n      </>   \r\n    )\r\n}\r\n\r\nexport default Home\r\n","import React, {useState, useEffect} from 'react'\r\nimport {Link, useHistory} from 'react-router-dom'\r\nimport M from \"materialize-css\"\r\n\r\n\r\nconst Signup = () => {\r\n\r\n  const history = useHistory();\r\n  const [name, setName] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [disable, setDisable] = useState(false);\r\n  const [image, setImage] = useState(\"\");\r\n  const [url, setUrl] = useState(undefined); // undefined because we have default image in mongo db than this wont get added\r\n\r\n  useEffect(()=>{\r\n    if(url){\r\n       UploadFields();\r\n    }\r\n  },[url])\r\n\r\n  const UploadDp =()=>{\r\n       \r\n        setDisable(true);\r\n\r\n        const data = new FormData();\r\n        data.append(\"file\",image)\r\n        data.append(\"upload_preset\",\"instagram\")\r\n        data.append(\"cloud_name\",\"dtxrrhfqj\")\r\n        fetch(\"https://api.cloudinary.com/v1_1/dtxrrhfqj/image/upload\",{\r\n           method:\"POST\",\r\n           body:data\r\n        })\r\n       \r\n         .then(res => res.json())\r\n         .then(data => {\r\n            setUrl(data.secure_url);\r\n         })\r\n         .catch(err => {\r\n             console.log(err);\r\n         })\r\n  }\r\n\r\n  const UploadFields =()=>{\r\n     \r\n   if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\r\n    M.toast({html: \"invalid email\", classes: \"#f44336 red\"});\r\n    return;\r\n    }\r\n    setDisable(true);\r\n    fetch(\"/signup\", {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        name,\r\n        password,\r\n        email,\r\n        dp:url\r\n      })\r\n    }).then(res => res.json())\r\n      .then(data => {\r\n        if(data.error){\r\n          M.toast({html: data.error, classes: \"#f44336 red\"})\r\n          setDisable(false);\r\n        }else{\r\n          M.toast({html: data.message, classes: \"#00e5ff cyan accent-3\"});\r\n          history.push('/signin');\r\n        }\r\n      }).catch(err => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n  const PostData = (event) => {\r\n   event.preventDefault();\r\n\r\n   if(image){\r\n     UploadDp();\r\n   }else{\r\n     UploadFields()\r\n   }\r\n\r\n  }\r\n\r\n    return (\r\n        <div className=\"mycard\">\r\n        <div className=\"card mycard__auth input-field\">\r\n          <h2 className=\"mycard__header\">Instagram</h2>\r\n          <input\r\n          type=\"text\"\r\n          placeholder=\"Name\"\r\n          value={name}\r\n          onChange = {e => setName(e.target.value)}\r\n          />\r\n          <input\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          value={email}\r\n          onChange = {e => setEmail(e.target.value)}\r\n          />\r\n          <input\r\n          type=\"password\"\r\n          placeholder=\"password\"\r\n          value={password}\r\n          onChange = {e => setPassword(e.target.value)}\r\n          />\r\n          <div className=\"file-field input-field\">\r\n            <div className=\"btn #d1c4e9 deep-purple lighten-4\">\r\n                <span>Upload Dp</span>\r\n                <input type=\"file\" onChange={(e) => setImage(e.target.files[0])}/>\r\n            </div>\r\n            <div className=\"file-path-wrapper\">\r\n                <input className=\"file-path validate\" type=\"text\"/>\r\n            </div>\r\n          </div>\r\n         \r\n          <button disabled={disable} onClick={PostData} className=\"btn waves-effect waves-light mycard__btn\" type=\"submit\" name=\"action\">\r\n              Sign Up\r\n          </button>\r\n          <h5>\r\n              <Link to=\"/signin\">Already have an account?</Link>\r\n          </h5>\r\n        </div>\r\n      </div>\r\n    )\r\n}\r\n\r\nexport default Signup\r\n","import React, {useState, useContext} from 'react'\r\nimport { Link, useHistory } from 'react-router-dom'\r\nimport {UserContext} from '../../App'\r\nimport M from \"materialize-css\"\r\n\r\nconst Signin = () => {\r\n\r\n  const {state, dispatch} = useContext(UserContext);\r\n  const history = useHistory();\r\n  const [password, setPassword] = useState(\"\");\r\n  const [email, setEmail] = useState(\"\");\r\n  const [disable, setDisable] = useState(false);\r\n\r\n  const PostData = (event) => {\r\n\r\n   event.preventDefault();\r\n   if(!/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/.test(email)){\r\n       M.toast({html: \"invalid email\", classes: \"#f44336 red\"});\r\n       return;\r\n   }\r\n   setDisable(true);\r\n    fetch(\"/signin\", {\r\n      method: \"post\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify({\r\n        password,\r\n        email\r\n      })\r\n    }).then(res => res.json())\r\n      .then(data => {\r\n        console.log(data);\r\n        if(data.error){\r\n          M.toast({html: data.error, classes: \"#f44336 red\"})\r\n          setDisable(false);\r\n        }else{\r\n          localStorage.setItem(\"jwt\", data.token)\r\n          localStorage.setItem(\"user\" , JSON.stringify(data.user));\r\n          dispatch({type: \"USER\", payload: data.user})\r\n          M.toast({html: \"Signed in successfully\", classes: \"#00e5ff cyan accent-3\"});\r\n          history.push('/');\r\n        }\r\n      }).catch(err => {\r\n        console.log(err);\r\n      })\r\n  }\r\n\r\n    return (\r\n        <div className=\"mycard\">\r\n          <div className=\"card mycard__auth input-field\">\r\n            <h2 className=\"mycard__header\">Instagram</h2>\r\n            <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            value={email}\r\n            onChange = {e => setEmail(e.target.value)}\r\n            />\r\n            <input\r\n            type=\"password\"\r\n            placeholder=\"password\"\r\n            value={password}\r\n            onChange = {e => setPassword(e.target.value)}\r\n            />\r\n            <button onClick={PostData} disabled={disable} className=\"btn waves-effect waves-light mycard__btn\" type=\"submit\" name=\"action\">\r\n                Sign In\r\n            </button>\r\n            <h5>\r\n              <Link to=\"/signup\">Create an account?</Link>\r\n            </h5>\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Signin\r\n","import React, {useEffect, useState, useContext} from 'react'\r\nimport {UserContext} from '../../App'\r\nimport {useParams} from \"react-router-dom\"\r\nimport Loader from 'react-loader-spinner'\r\n\r\nconst UserProfile = () => {\r\n\r\n    const [userPosts, setUserPosts] = useState(null)\r\n   \r\n    const {state, dispatch} = useContext(UserContext)\r\n    const {userid} = useParams()\r\n    const [showFollow, setShowFollow] = useState(state?!state.following.includes(userid): true);\r\n\r\n    useEffect(()=> {\r\n         fetch(`/user/${userid}`, {\r\n             headers: {\r\n                 \"Authorization\": \"Bearer \"+ localStorage.getItem(\"jwt\")\r\n             }\r\n         }).then(res => res.json())\r\n           .then(result => {\r\n            console.log(result);\r\n            setUserPosts(result)\r\n           })\r\n    }, [])\r\n\r\n\r\n    const followUser = () => { \r\n        fetch('/follow', {\r\n            method: \"put\",\r\n            headers:{\r\n             \"Content-Type\": \"application/json\",\r\n             \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n             followId: userid\r\n            })\r\n        }).then(res => res.json())\r\n          .then(data => {\r\n            //   console.log(data);\r\n              dispatch({type:\"UPDATE\",payload:{following:data.following,followers:data.followers}})\r\n              localStorage.setItem(\"user\", JSON.stringify(data))\r\n              setUserPosts((prevState)=> {\r\n                  return {\r\n                      ...prevState,\r\n                      user: {\r\n                          ...prevState.user,\r\n                          followers: [...prevState.user.followers, data._id]\r\n                      }\r\n                  }\r\n              })\r\n          })\r\n          setShowFollow(false);\r\n    }    \r\n\r\n    const unfollowUser = () => { \r\n        fetch('/unfollow', {\r\n            method: \"put\",\r\n            headers:{\r\n             \"Content-Type\": \"application/json\",\r\n             \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n             unfollowId: userid\r\n            })\r\n        }).then(res => res.json())\r\n          .then(data => {\r\n            //   console.log(data);  \r\n              dispatch({type: \"UPDATE\", payload: {following: data.following, followers: data.followers}})\r\n              localStorage.setItem(\"user\", JSON.stringify(data))\r\n              \r\n              setUserPosts((prevState)=> {\r\n                const newFollowers = prevState.user.followers.filter(item =>  item !== data._id)\r\n                  return {\r\n                      ...prevState,\r\n                      user: {\r\n                          ...prevState.user,\r\n                          followers: newFollowers\r\n                      }\r\n                  }\r\n              })\r\n          })\r\n          setShowFollow(true);\r\n    }    \r\n\r\n\r\n    return (\r\n        <>\r\n        {!userPosts?\r\n          <Loader\r\n          className=\"loader\"\r\n          type=\"Grid\"\r\n          color=\"#e23e57\"\r\n          height={100}\r\n          width={100}\r\n          timeout={4000} //3 secs\r\n       />\r\n         :\r\n         (\r\n            <div className=\"profile\">\r\n            <div className=\"profile__container\">\r\n\r\n                <img alt=\"profile dp\" src={userPosts.user.dp} className=\"profile__dp\"/>\r\n           \r\n                <div>\r\n                    <h4>{userPosts?.user.name}</h4>\r\n                    <h6>{userPosts?.user.email}</h6>\r\n                    <div className=\"profile__infoSection\">\r\n                        <h6><span className=\"profile__details\">{userPosts?.posts.length}</span>posts</h6>\r\n                        <h6><span className=\"profile__details\">{userPosts?.user.followers.length}</span>followers</h6>\r\n                        <h6><span className=\"profile__details\">{userPosts?.user.following.length}</span>following</h6>\r\n                    </div>\r\n                    {showFollow ?\r\n                    ( <button onClick={()=> followUser()} className=\"btn waves-effect waves-light follow__btn\" type=\"submit\" name=\"action\">\r\n                        Follow\r\n                    </button>):\r\n                    (             \r\n                    <button onClick={()=> unfollowUser()} className=\"btn waves-effect waves-light follow__btn\" type=\"submit\" name=\"action\">\r\n                        unFollow\r\n                    </button>\r\n                    )\r\n                    }\r\n                    \r\n                </div>  \r\n           </div>\r\n          \r\n            <div className=\"profile__gallery\">\r\n            {\r\n                userPosts?.posts.map(item => {\r\n                    return(\r\n                        <img key={item._id} className=\"profile__galleryimage\" alt={item.title} src={item.photo} />\r\n                    )\r\n                })\r\n            }  \r\n               \r\n            </div>\r\n        </div>\r\n         )\r\n         }\r\n        \r\n      </>  \r\n    )\r\n}\r\n\r\nexport default UserProfile\r\n","import React, {useState, useEffect} from 'react'\r\nimport { useHistory } from 'react-router-dom'\r\nimport M from \"materialize-css\"\r\n\r\nconst CreatePost = () => {\r\n\r\n  \r\n\r\n    const history = useHistory();\r\n    const [title, setTitle] = useState(\"\");\r\n    const [body, setBody] = useState(\"\");\r\n    const [image, setImage] = useState(\"\");\r\n    const [url, setUrl] = useState(\"\");\r\n    const [disable, setDisable] = useState(false);\r\n\r\n    useEffect (()=> {\r\n      if(url){\r\n      fetch(\"/createpost\", {\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\r\n        },\r\n        body: JSON.stringify({\r\n          title,\r\n          photo:url,\r\n          body\r\n        })\r\n      }).then(res => res.json())\r\n        .then(data => {\r\n          console.log(data);\r\n          if(data.error){\r\n            M.toast({html: data.error, classes: \"#f44336 red\"})\r\n            setDisable(false);\r\n          }else{\r\n            M.toast({html: \"Posted successfully\", classes: \"#00e5ff cyan accent-3\"});\r\n            history.push('/');\r\n          }\r\n        }).catch(err => {\r\n          console.log(err);\r\n        }) \r\n      } \r\n    }, [url])\r\n\r\n    const postDetails = (e) => {\r\n\r\n        e.preventDefault();\r\n       \r\n        setDisable(true);\r\n\r\n        const data = new FormData();\r\n        data.append(\"file\",image)\r\n        data.append(\"upload_preset\",\"instagram\")\r\n        data.append(\"cloud_name\",\"dtxrrhfqj\")\r\n        fetch(\"https://api.cloudinary.com/v1_1/dtxrrhfqj/image/upload\",{\r\n           method:\"POST\",\r\n           body:data\r\n        })\r\n       \r\n         .then(res => res.json())\r\n         .then(data => {\r\n            setUrl(data.secure_url);\r\n         })\r\n         .catch(err => {\r\n             console.log(err);\r\n         })\r\n\r\n        \r\n    }\r\n\r\n    return (\r\n        <div className=\"card input-field createPost\">\r\n          <input\r\n           type=\"text\"\r\n           placeholder=\"title\"\r\n           onChange={(e) => setTitle(e.target.value)}\r\n           value={title}\r\n           />\r\n          <input\r\n           type=\"text\"\r\n            placeholder=\"body\"\r\n            onChange={(e) => setBody(e.target.value)}\r\n            value={body}\r\n             />\r\n          <div className=\"file-field input-field\">\r\n            <div className=\"btn #d1c4e9 deep-purple lighten-4\">\r\n                <span>Upload Image</span>\r\n                <input type=\"file\" onChange={(e) => setImage(e.target.files[0])}/>\r\n            </div>\r\n            <div className=\"file-path-wrapper\">\r\n                <input className=\"file-path validate\" type=\"text\"/>\r\n            </div>\r\n          </div>\r\n        <button disabled={disable} onClick={postDetails} className=\"btn waves-effect waves-light mycard__btn\" type=\"submit\" name=\"action\">\r\n            POST\r\n        </button>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreatePost\r\n","export const initialState = null;\r\n\r\nexport const reducer = (state, action) => {\r\n    if(action.type === \"USER\"){\r\n      return action.payload\r\n    }\r\n    if(action.type === \"CLEAR\"){\r\n      return null\r\n    }\r\n    if(action.type === \"UPDATE\"){\r\n     return {\r\n       ...state,\r\n       followers: action.payload.followers,\r\n       following: action.payload.following\r\n     }\r\n    }\r\n    if(action.type === \"UPDATEDP\"){\r\n      return{\r\n        ...state,\r\n        dp: action.payload\r\n      }\r\n    }\r\n    return state\r\n}","import React, {useState, useEffect, useContext} from 'react'\r\nimport {UserContext} from \"../../App\"\r\nimport Profile from './Profile';\r\nimport {Link} from \"react-router-dom\"\r\nimport Loader from 'react-loader-spinner'\r\n\r\nconst FollowingPosts = () => {\r\n\r\n    const [data, setData] = useState(null);\r\n    const {state, dispatch} = useContext(UserContext);\r\n\r\n\r\n    useEffect(()=> {\r\n      fetch('/getSubposts', {\r\n          headers: {\r\n              \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\r\n          }\r\n      }).then(res=> res.json())\r\n        .then(result => {   \r\n            // console.log(result);\r\n            setData(result.posts); \r\n        } )\r\n    }, [])\r\n\r\n    const likePost =(id)=>{\r\n       fetch('/like', {\r\n           method: \"put\",\r\n           headers: {\r\n               \"Content-Type\": \"application/json\",\r\n               \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\r\n           },\r\n           body: JSON.stringify({\r\n               postId: id\r\n           })\r\n        }).then(res => res.json())\r\n             .then(result => {\r\n                //  console.log(result);\r\n                 const newData = data.map(item => {\r\n                     if(item._id === result._id){\r\n                         return result\r\n                     }\r\n                     return item\r\n                 })\r\n                 setData(newData);\r\n             }).catch(err => {\r\n                 console.log(err)\r\n             })\r\n             \r\n    }\r\n\r\n    const unlikePost =(id)=>{\r\n        fetch('/unlike', {\r\n            method: \"put\",\r\n            headers: {\r\n                \"Content-Type\": \"application/json\",\r\n                \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\r\n            },\r\n            body: JSON.stringify({\r\n                postId: id\r\n            })\r\n         }).then(res => res.json())\r\n              .then(result => {\r\n                // console.log(result);\r\n                const newData = data.map(item => {\r\n                    if(item._id === result._id){\r\n                        return result\r\n                    }\r\n                    return item\r\n                })\r\n                setData(newData);\r\n              }).catch(err => {\r\n                console.log(err)\r\n            })\r\n     }\r\n\r\n     const postComment = (text, postId) =>{\r\n         fetch('/comment', {\r\n             method: \"put\",\r\n             headers: {\r\n                 \"Content-Type\": \"application/json\",\r\n                 \"Authorization\": \"Bearer \"+localStorage.getItem(\"jwt\")\r\n             },\r\n             body: JSON.stringify({\r\n                postId,\r\n                text \r\n             })\r\n         }).then(res => res.json())\r\n           .then(result => {\r\n            //    console.log(result);\r\n               const newData = data.map(item => {\r\n                if(item._id === result._id){\r\n                    return result\r\n                }\r\n                return item \r\n            })\r\n             setData(newData)\r\n           }).catch(err => {\r\n               console.log(err);\r\n           })\r\n     }\r\n\r\n     const deletePost = (postid) => {\r\n         fetch(`/deletepost/${postid}`, {\r\n             method: \"delete\",\r\n             headers: {\r\n                 Authorization: \"Bearer \"+localStorage.getItem(\"jwt\")\r\n             }\r\n         }).then(res => res.json())\r\n           .then(result => {\r\n            //    console.log(result);\r\n               const newData = data.filter(item=>{\r\n                   return item._id !== result._id\r\n               })\r\n               setData(newData);\r\n           })\r\n     }\r\n\r\n     const deleteComment = (commentid, postid)=>{\r\n         fetch(`/deletecomment/${commentid}`, {\r\n             method: \"delete\",\r\n             headers: {\r\n                 Authorization: \"Bearer \"+localStorage.getItem(\"jwt\")\r\n             }\r\n         }).then(res => res.json())\r\n           .then(result => {\r\n            //    console.log(\"I am the result\",result);\r\n\r\n               const newData = data.map(item =>{\r\n                   if(item._id === result._id){\r\n                       return result\r\n                   }\r\n                   return item\r\n               })\r\n               setData(newData);\r\n\r\n                 }).catch(err => {\r\n                     console.log(err)\r\n                 })               \r\n           }\r\n    return (\r\n      <> \r\n      {\r\n        !data?(\r\n        <Loader\r\n            className=\"loader\"\r\n            type=\"Grid\"\r\n            color=\"#e23e57\"\r\n            height={100}\r\n            width={100}\r\n            timeout={4000} //3 secs\r\n         />\r\n        ):(  \r\n        <div className=\"home\">\r\n            {data.map(item => {\r\n                return(\r\n                 <div className=\"card home__card\" key={item._id}>\r\n                    <h5 className=\"home__PostedBy\">\r\n                        <Link to={item.postedBy._id !== state._id?`/profile/${item.postedBy._id}`: `/profile`}>{item.postedBy.name}</Link>\r\n                    {item.postedBy._id === state._id && (\r\n                       <i class=\"tiny material-icons home_delbtn home_icon\"\r\n                       onClick={()=> deletePost(item._id)}\r\n                       >delete_forever</i>\r\n                    )}\r\n                    </h5>\r\n                   \r\n                    <div className=\"card-image home__cardImage\">\r\n                      <img className=\"home__Image\" alt=\"homeCard\" src={item.photo} />\r\n                    </div>\r\n                    <div className=\"card-content\">\r\n                        <i className=\"tiny material-icons home_btn home_icon\">favorite</i>\r\n\r\n                           {item.likes.includes(state._id)\r\n                            ? \r\n                            (<i className=\"tiny material-icons home_btn home_icon\"\r\n                            onClick={()=> {unlikePost(item._id)}}>thumb_down</i>\r\n                            ):\r\n                            ( <i className=\"tiny material-icons home_btn home_icon\"\r\n                            onClick={()=> {likePost(item._id)}}>thumb_up</i>)}\r\n\r\n                       \r\n                        <h6 className=\"home_postLikes\">{item.likes.length} likes</h6>\r\n                        <h5 className=\"home__cardTitle\">{item.title}</h5>\r\n                        <p className=\"home__carddesc\">{item.body}</p>\r\n                        <h5 className=\"home__commentsTitle\">Comments</h5>\r\n                        {\r\n                            item.comments.map(record => {\r\n                                return(\r\n                                <h6 className=\"home__commentsdesc\" key={record._id}><span className=\"home__commentsname\">{record.postedBy.name}|</span>\r\n                                <i class=\"tiny material-icons home_delbtn home_icon\"\r\n                                    onClick={()=> deleteComment(record._id,item._id)}\r\n                                    >delete_forever</i>\r\n                                  {record.text}\r\n                                </h6>\r\n                                )\r\n                            })\r\n                        }\r\n                        <form onSubmit={(e)=>{\r\n                            e.preventDefault()\r\n                            postComment(e.target[0].value, item._id)\r\n                            // console.log(e.target)\r\n                        }}>\r\n                          <input type=\"text\" placeholder=\"add a comment\"/>\r\n                        </form>\r\n                    </div>\r\n                </div>  \r\n                \r\n                )\r\n            })}\r\n           \r\n        </div>\r\n        )\r\n      }\r\n      </>  \r\n    )\r\n}\r\n\r\nexport default FollowingPosts\r\n","import React, {useEffect, createContext, useReducer, useContext} from 'react';\r\nimport Navbar from './components/Navbar';\r\nimport \"./App.css\"\r\nimport {BrowserRouter, Route, Switch, useHistory} from 'react-router-dom'\r\nimport Home from './components/screens/Home';\r\nimport Profile from './components/screens/Profile';\r\nimport Signup from './components/screens/Signup';\r\nimport Signin from './components/screens/Signin';\r\nimport UserProfile from './components/screens/UserProfile';\r\nimport CreatePost from './components/screens/CreatePost';\r\nimport {reducer, initialState} from './reducers/userReducer'\r\nimport FollowingPosts from './components/screens/FollowingPosts';\r\n\r\nexport const UserContext = createContext();\r\n\r\n\r\nconst Routing = () => {\r\n\r\n  const history = useHistory();\r\n  const {state, dispatch} = useContext(UserContext);\r\n\r\n  useEffect(()=> {\r\n    const user = JSON.parse(localStorage.getItem(\"user\"))\r\n    // console.log(\"I am a user\",user);\r\n    if(user){\r\n      dispatch({type: \"USER\", payload: user})\r\n    }else{\r\n      history.push(\"/signin\");\r\n    }\r\n  }, [])  \r\n\r\n  \r\n  return(\r\n\r\n    <Switch>  \r\n      <Route exact path=\"/\">\r\n        <Home />\r\n      </Route>\r\n      <Route path=\"/signin\">\r\n        <Signin />\r\n      </Route>\r\n      <Route exact path=\"/profile\">\r\n        <Profile />\r\n      </Route>\r\n      <Route path=\"/signup\">\r\n        <Signup />\r\n      </Route>\r\n      <Route path=\"/create\">\r\n        <CreatePost />\r\n      </Route>\r\n      <Route path=\"/profile/:userid\">\r\n        <UserProfile />\r\n      </Route>\r\n      <Route path=\"/followingposts\">\r\n        <FollowingPosts />\r\n      </Route>\r\n     </Switch>\r\n    \r\n  )\r\n}\r\n\r\nfunction App() {\r\n  const [state,dispatch] = useReducer(reducer,initialState)\r\n  return (\r\n    <UserContext.Provider value={{state,dispatch}}>  \r\n    <BrowserRouter>\r\n      <Navbar/>\r\n      <Routing />\r\n    </BrowserRouter>\r\n  </UserContext.Provider>\r\n \r\n       \r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}